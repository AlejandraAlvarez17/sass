"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[646,454,706,138,90,55,306],{49055:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});n(67294);var r=n(58804),o=r.ZP.div.withConfig({displayName:"style__Container",componentId:"sc-1sbdkjb-0"})(["max-height:100vh;height:calc(100% - 68px);"]),i=r.ZP.div.withConfig({displayName:"style__ChannelsContainer",componentId:"sc-1sbdkjb-1"})(["background:",";height:100%;@media only screen and (max-width:800px){height:80%;overflow-y:auto;> div{height:100%;width:90%;}}"],(function(e){return e.isDarkMode?"var(--primary-color-dm)":"var(--primary-color)"})),a=n(1590),s=n(22368),c=n(24080),l=n(90954),d=n(70930),u=n(85893),h=function(e){var t=e.toggleInfo,n=(0,c.E0)(),r=(0,l.vs)(),h=(0,d.T)().t,m={type:"messaging",isPersonal:{$ne:!0},members:{$in:[(null===n||void 0===n?void 0:n.userID)||""]},member_count:{$gt:1}};return(0,u.jsxs)(o,{children:[(0,u.jsx)(s.tV,{title:h("chat.channels")}),(0,u.jsx)(i,{isDarkMode:r,children:(0,u.jsx)(a.Ee,{client:n,filters:m,sort:{last_message_at:-1},toggleInfo:t})})]})}},72090:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});n(67294);var r=n(55431),o=n(22368),i=n(1590),a=n(24080),s=n(58804),c=s.ZP.div.withConfig({displayName:"style__Container",componentId:"sc-bj5gia-0"})(["max-height:100vh;height:calc(100% - 68px);"]),l=s.ZP.div.withConfig({displayName:"style__DirectContainer",componentId:"sc-bj5gia-1"})(["background:"," !important;height:100%;"],(function(e){return e.isDarkMode?"var(--primary-color-dm)":"var(--primary-color)"})),d=n(70930),u=n(90954),h=n(85893),m=function(){var e=(0,a.E0)(),t=(0,d.T)().t,n=(0,u.vs)(),s=null===e||void 0===e?void 0:e.userID;if(!s)return(0,h.jsx)(r.aN,{});var m={type:"messaging",isPersonal:!0,members:{$in:[s]},member_count:{$gt:1}};return(0,h.jsxs)(c,{children:[(0,h.jsx)(o.tV,{title:t("chat.directMessages")}),(0,h.jsx)(l,{isDarkMode:n,children:(0,h.jsx)(i.Ad,{client:e,filters:m,sort:{last_message_at:-1},opts:{limit:13}})})]})}},71646:function(e,t,n){n.d(t,{en:function(){return j},vG:function(){return y.Z},Vm:function(){return Z},TX:function(){return z}});n(49055);var r=n(67294),o=n(9038),i=n(9077),a=n(75161),s=n(52674),c=n(91351),l=n(31493),d=n(78700),u=n(24035),h=n(84310),m=n(58645),p=n(94379),f=(n(2238),n(55431)),v=n(1590),g=n(24080),x=n(70930),b=n(85893),j=function(e){var t=e.client,n=e.filters,r=e.sort,j=(0,g.P1)(t).message,y=(0,g.hn)().isIFrame,_=(0,x.T)().t;if(j){var k=j.user.name;y?window.parent.postMessage({name:k},"*"):p.fn.info("".concat(_("chat.newMessageFrom")," ").concat(k))}return(0,b.jsxs)(o.e,{client:t,children:[(0,b.jsx)(i.G,{filters:n,sort:r,Preview:a.N}),(0,b.jsx)(s.$,{Message:f.v0,children:(0,b.jsxs)(c.R,{children:[(0,b.jsx)(l.g,{}),(0,b.jsx)(d.r,{}),(0,b.jsx)(u.R,{Input:v.IG}),(0,b.jsx)(h.j,{Message:m.u,fullWidth:!0})]})})]})},y=n(34778),_=(n(72090),n(92306),n(1138),n(42828),n(11163)),k=n(83156),w=n(22368),C=n(58804),D=C.ZP.div.withConfig({displayName:"style__Container",componentId:"sc-1nlmdza-0"})(["max-height:100vh;height:calc(100% - 68px);"]),I=C.ZP.div.withConfig({displayName:"style__IconContainer",componentId:"sc-1nlmdza-1"})(["position:absolute;left:0;margin-left:24px;"]),P=C.ZP.div.withConfig({displayName:"style__MessageContainer",componentId:"sc-1nlmdza-2"})(["background:",";height:calc(100% - 55px);a{color:"," !important;}> .str-chat.str-chat-channel > .str-chat__container{background:",";> .str-chat__main-panel{> .str-chat__list{background:",";}> .str-chat__thread.str-chat__thread--full{background:",";> .str-chat__thread-header{background:"," !important;> .str-chat__thread-header-details{color:",";}> .str-chat__square-button{background:"," !important;> svg{fill:",";}}}}}}"],(function(e){return e.isDarkMode?"var(--mobile-bg-color-dm)":"var(--mobile-bg-color)"}),(function(e){return e.isDarkMode?"var(--brand-color-dm)":"var(--brand-color)"}),(function(e){return e.isDarkMode?"var(--mobile-bg-color-dm)":"var(--mobile-bg-color)"}),(function(e){return e.isDarkMode?"var(--mobile-bg-color-dm)":"var(--mobile-bg-color)"}),(function(e){return e.isDarkMode?"var(--mobile-bg-color-dm)":"var(--mobile-bg-color)"}),(function(e){return e.isDarkMode?"var(--mobile-bg-color-dm)":"var(--mobile-bg-color)"}),(function(e){return e.isDarkMode?"var(--font-color-dm)":"var(--font-color)"}),(function(e){return e.isDarkMode?"var(--mobile-bg-color-dm)":"var(--mobile-bg-color)"}),(function(e){return e.isDarkMode?"var(--font-color-dm)":"var(--font-color)"})),M=C.ZP.div.withConfig({displayName:"style__NoChannelContainer",componentId:"sc-1nlmdza-3"})(["background:#f1f1f1;display:flex;align-items:center;flex-direction:column;justify-content:center;height:100%;> button{margin-top:20px;}"]),N=(C.ZP.span.withConfig({displayName:"style__Span",componentId:"sc-1nlmdza-4"})(["color:#333;"]),n(90954)),Z=function(){var e,t=(0,r.useContext)(k.p5).channel,n=(0,_.useRouter)(),o=(0,g.g5)(t).name,i=(0,N.vs)(),a=(0,x.T)().t;return(0,b.jsxs)(D,{children:[(0,b.jsx)(w.tV,{title:(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.name)||o||a("chat.messages"),children:(null===t||void 0===t?void 0:t.data)&&(0,b.jsx)(I,{onClick:function(){return n.back()},children:(0,b.jsx)(w.dv,{isDarkMode:i})})}),t?(0,b.jsx)(P,{isDarkMode:i,children:(0,b.jsx)(v.z3,{})}):(0,b.jsx)(M,{children:(0,b.jsx)(w.Hd,{})})]})},O=(n(42454),C.ZP.div.withConfig({displayName:"style__Container",componentId:"sc-12do2ee-0"})(["display:flex;justify-content:center;height:100%;overflow-x:hidden;background-color:#c9e0ec;"])),z=function(){return(0,b.jsx)(O,{children:(0,b.jsx)("img",{src:"/notFound.jpg",alt:"Not found"})})};n(13575)},92306:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(30266),o=n(809),i=n.n(o),a=n(67294),s=n(11163),c=n(83156),l=n(58804),d=l.ZP.div.withConfig({displayName:"style__Container",componentId:"sc-6oc11u-0"})(["max-height:100vh;height:calc(100% - 68px);"]),u=l.ZP.div.withConfig({displayName:"style__IconContainer",componentId:"sc-6oc11u-1"})(["position:absolute;left:0;margin-left:24px;"]),h=l.ZP.div.withConfig({displayName:"style__InfoContainer",componentId:"sc-6oc11u-2"})(["background:",";height:100%;"],(function(e){return e.isDarkMode?"var(--mobile-bg-color-dm)":"var(--mobile-bg-color)"})),m=n(55431),p=n(22368),f=n(90954),v=n(70930),g=n(85893),x=function(e){var t,n,o,l=e.toggleInfo,x=(0,s.useRouter)(),b=(0,a.useContext)(c.p5),j=b.client,y=b.channel,_=b.setActiveChannel,k=(0,f.vs)(),w=(0,v.T)().t,C=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=null===j||void 0===j?void 0:j.user,a=j.channel("messaging",{isPersonal:!0,members:[null===o||void 0===o?void 0:o.id,null===n||void 0===n||null===(r=n.user)||void 0===r?void 0:r.id]}),e.next=5,a.watch();case 5:_(a,t.persist()),x.push("/messages");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,g.jsxs)(d,{children:[(0,g.jsx)(p.tV,{title:"".concat(w("chat.informations")," ").concat(null===y||void 0===y||null===(t=y.data)||void 0===t?void 0:t.name),children:(0,g.jsx)(u,{onClick:l,children:(0,g.jsx)(p.dv,{isDarkMode:k})})}),(0,g.jsxs)(h,{isDarkMode:k,children:[(0,g.jsx)(m.tb,{size:60,title:"".concat(null===y||void 0===y||null===(n=y.data)||void 0===n?void 0:n.name),titleSize:.8,children:(0,g.jsx)(p.AA,{about:(null===y||void 0===y||null===(o=y.data)||void 0===o?void 0:o.about)||null})}),(0,g.jsx)(m.tb,{hasPaddingBottom:!0,size:60,title:w("chat.members"),titleSize:.8,children:(0,g.jsx)(m.to,{hasBorderBottom:!0,hasPaddingBottom:!0,height:220,handlePersonalChannel:C})})]})]})}},1138:function(e,t,n){n.r(t);var r=n(30266),o=n(92809),i=n(80318),a=n(809),s=n.n(a),c=n(67294),l=n(11163),d=n(42283),u=n(24080),h=n(22368),m=n(70930),p=n(85893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var v="".concat("https://ch-api.herokuapp.com","/private/auth");t.default=function(){var e=(0,d.cI)(),t=e.register,n=e.handleSubmit,a=e.errors,g=(0,l.useRouter)(),x=(0,u._)("auth"),b=(0,i.Z)(x,2),j=b[0],y=b[1],_=(0,c.useState)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},j)),k=_[0],w=_[1],C=(0,m.T)().t;null!==k&&void 0!==k&&k.user&&null!==k&&void 0!==k&&k.token&&g.push("/support");var D=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(v,n);case 3:return r=e.sent,e.next=6,r.json();case 6:if(!(o=e.sent).error){e.next=10;break}return alert(C("chat.error")),e.abrupt("return");case 10:y(o),w(o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsx)(h.W2,{column:!0,children:(0,p.jsxs)("form",{onSubmit:n(D),children:[(0,p.jsx)(h.Dx,{children:C("chat.login")}),(0,p.jsxs)(h.cw,{children:[(0,p.jsx)(h.__,{children:C("chat.email")}),(0,p.jsx)(h.II,{name:"email",type:"text",placeholder:C("chat.email.placeholder"),ref:t({required:!0})}),a.email&&(0,p.jsx)(h.v3,{children:C("chat.email.required")})]}),(0,p.jsxs)(h.cw,{children:[(0,p.jsx)(h.__,{children:C("chat.password")}),(0,p.jsx)(h.II,{name:"password",type:"password",placeholder:C("chat.password.placeholder"),ref:t({required:!0})}),a.password&&(0,p.jsx)(h.v3,{children:C("chat.password.required")})]}),(0,p.jsx)(h.zx,{type:"submit",children:C("chat.login.submit")})]})})}},42828:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});n(67294);var r=n(58804),o=r.ZP.div.withConfig({displayName:"style__Container",componentId:"sc-1di6r8q-0"})(["max-height:100vh;height:calc(100% - 68px);"]),i=r.ZP.div.withConfig({displayName:"style__MembersContainer",componentId:"sc-1di6r8q-1"})(["background:",";height:100%;"],(function(e){return e.isDarkMode?"var(--primary-color-dm)":"var(--primary-color)"})),a=n(22368),s=n(1590),c=n(70930),l=n(90954),d=n(85893),u=function(){var e=(0,l.vs)(),t=(0,c.T)().t;return(0,d.jsxs)(o,{children:[(0,d.jsx)(a.tV,{title:t("chat.members")}),(0,d.jsx)(i,{isDarkMode:e,children:(0,d.jsx)(s.SD,{})})]})}},42454:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});n(67294);var r=n(11163),o=n(22368),i=n(1590),a=n(58804),s=a.ZP.div.withConfig({displayName:"style__Container",componentId:"sc-14h3mqe-0"})(["max-height:100vh;height:calc(100% - 68px);"]),c=a.ZP.div.withConfig({displayName:"style__IconContainer",componentId:"sc-14h3mqe-1"})(["cursor:pointer;position:absolute;left:0;margin-left:24px;"]),l=a.ZP.div.withConfig({displayName:"style__InnerContainer",componentId:"sc-14h3mqe-2"})(["background:",";height:100%;> input{background-color:",";border-radius:5px;border:",";padding:14px 12px;width:100%;height:48px;color:",";&:focus-visible{outline:0px;}}"],(function(e){return e.isDarkMode?"var(--primary-color-dm)":"var(--primary-color)"}),(function(e){return e.isDarkMode?"var(--input-textarea-color-dm)":"var(--primary-color)"}),(function(e){return e.isDarkMode?"1px solid var(--input-textarea-color-dm)":"1px solid var(--font-color)"}),(function(e){return e.isDarkMode?"var(--font-color-dm)":"var(--font-color)"})),d=n(70930),u=n(90954),h=n(85893),m=function(){var e=(0,r.useRouter)(),t=(0,d.T)().t,n=(0,u.vs)();return(0,h.jsxs)(s,{children:[(0,h.jsx)(o.tV,{title:t("chat.newMessage"),children:(0,h.jsx)(c,{onClick:function(t){t.preventDefault(),e.back()},children:(0,h.jsx)(o.dv,{})})}),(0,h.jsx)(l,{isDarkMode:n,children:(0,h.jsx)(i.fG,{})})]})}}}]);