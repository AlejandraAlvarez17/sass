(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[780],{2238:function(){},31493:function(e,n,t){"use strict";t.d(n,{g:function(){return u}});var r=t(67294),a=t(21681),i=function(e){var n=e.title,t=(0,a.Ht)("MenuIcon").t;return r.createElement("svg",{"data-testid":"menu-icon",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,null!==n&&void 0!==n?n:t("Menu")),r.createElement("path",{d:"M0 88C0 74.75 10.75 64 24 64H424C437.3 64 448 74.75 448 88C448 101.3 437.3 112 424 112H24C10.75 112 0 101.3 0 88zM0 248C0 234.7 10.75 224 24 224H424C437.3 224 448 234.7 448 248C448 261.3 437.3 272 424 272H24C10.75 272 0 261.3 0 248zM424 432H24C10.75 432 0 421.3 0 408C0 394.7 10.75 384 24 384H424C437.3 384 448 394.7 448 408C448 421.3 437.3 432 424 432z",fill:"currentColor"}))},o=t(13943),c=t(87029),l=t(83156),u=r.memo((function(e){var n=e.Avatar,t=void 0===n?o.q:n,u=e.MenuIcon,s=void 0===u?i:u,f=e.image,d=e.live,h=e.title,v=(0,c.JN)("ChannelHeader"),m=v.channel,p=v.watcher_count,g=(0,l.mx)("ChannelHeader").openMobileNav,b=(0,a.Ht)("ChannelHeader").t,y=(null===m||void 0===m?void 0:m.data)||{},w=y.image,E=y.member_count,_=y.name,C=y.subtitle,x=f||w;return r.createElement("div",{className:"str-chat__header-livestream"},r.createElement("button",{"aria-label":"Menu",className:"str-chat__header-hamburger",onClick:g},r.createElement(s,null)),x&&r.createElement(t,{image:x,shape:"rounded",size:"commerce"===(null===m||void 0===m?void 0:m.type)?60:40}),r.createElement("div",{className:"str-chat__header-livestream-left"},r.createElement("p",{className:"str-chat__header-livestream-left--title"},h||_," ",d&&r.createElement("span",{className:"str-chat__header-livestream-left--livelabel"},b("live"))),C&&r.createElement("p",{className:"str-chat__header-livestream-left--subtitle"},C),r.createElement("p",{className:"str-chat__header-livestream-left--members"},!d&&!!E&&E>0&&r.createElement(r.Fragment,null,b("{{ memberCount }} members",{memberCount:E}),","," "),b("{{ watcherCount }} online",{watcherCount:p}))))}))},9077:function(e,n,t){"use strict";t.d(n,{G:function(){return he}});var r=t(67294),a=t(5823),i={src:"/_next/static/image/node_modules/stream-chat-react/dist/assets/str-chat__connection-error.90385cff548e3b068187c19d5f25e675.svg",height:78,width:78},o=t(21681),c=r.memo((function(e){var n=e.image,t=e.text,c=e.type,l=void 0===c?"Error":c,u=(0,o.Ht)("ChatDown").t;return r.createElement("div",{className:"str-chat__down"},r.createElement(a._,null),r.createElement("div",{className:"str-chat__down-main"},r.createElement("img",{alt:"Connection error","data-testid":"chatdown-img",src:n||i}),r.createElement("h1",null,l),r.createElement("h3",{"aria-live":"assertive"},t||u("Error connecting to chat, refresh the page to try again."))))})),l=function(e){var n=e.children,t=e.error,i=void 0!==t&&t,o=e.loading,l=e.LoadingErrorIndicator,u=void 0===l?c:l,s=e.LoadingIndicator,f=void 0===s?a._:s;return i?r.createElement(u,{type:"Connection Error"}):o?r.createElement(f,null):r.createElement("div",{className:"str-chat__channel-list-messenger"},r.createElement("div",{"aria-label":"Channel list",className:"str-chat__channel-list-messenger__main",role:"listbox"},n))},u=t(83156),s=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},f=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},d=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},h=function(){return(h=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},v=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},m=t(18618),p=t.n(m),g=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(n){i(n)}}function c(e){try{l(r.throw(e))}catch(n){i(n)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}l((r=r.apply(e,n||[])).next())}))},b=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(c){i=[6,c],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},y=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},w=function(e,n,t){return g(void 0,void 0,void 0,(function(){var r;return b(this,(function(a){switch(a.label){case 0:return[4,(r=e.channel(n,t)).watch()];case 1:return a.sent(),[2,r]}}))}))},E=function(e){var n=e.activeChannel,t=e.channels,r=e.cid,a=t.findIndex((function(e){return e.cid===r}));if(!n&&a<=0)return t;var i=n||t[a];return p()(y([i],t),"cid")},_=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(n){i(n)}}function c(e){try{l(r.throw(e))}catch(n){i(n)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}l((r=r.apply(e,n||[])).next())}))},C=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(c){i=[6,c],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},x=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},S=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},k=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(n){i(n)}}function c(e){try{l(r.throw(e))}catch(n){i(n)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}l((r=r.apply(e,n||[])).next())}))},N=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(c){i=[6,c],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},L=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},P=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(n){i(n)}}function c(e){try{l(r.throw(e))}catch(n){i(n)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}l((r=r.apply(e,n||[])).next())}))},R=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(c){i=[6,c],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},I=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},M=function(){return(M=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},O=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(n){i(n)}}function c(e){try{l(r.throw(e))}catch(n){i(n)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}l((r=r.apply(e,n||[])).next())}))},F=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(c){i=[6,c],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},H=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},A=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},T=t(13943),U=t(75161),j=t(17552),D=t.n(j),q=function(e,n,t){var a,i;void 0===t&&(t="en");var o,c=e.state.messages[e.state.messages.length-1],l=(null===(a=null===c||void 0===c?void 0:c.i18n)||void 0===a?void 0:a[t+"_text"])||(null===c||void 0===c?void 0:c.text);return c?c.deleted_at?n("Message deleted"):l?(o=l,r.createElement(D(),{source:o})):c.command?"/"+c.command:(null===(i=c.attachments)||void 0===i?void 0:i.length)?n("\ud83c\udfd9 Attachment..."):n("Empty message..."):n("Nothing yet...")},G=function(){return(G=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},z=function(e){var n=e.channel,t=e.Preview,a=void 0===t?U.N:t,i=e.channelUpdateCount,c=(0,u.mx)("ChannelPreview"),l=c.channel,s=c.client,f=c.setActiveChannel,d=(0,o.Ht)("ChannelPreview"),h=d.t,v=d.userLanguage,m=(0,r.useState)(n.state.messages[n.state.messages.length-1]),p=m[0],g=m[1],b=(0,r.useState)(0),y=b[0],w=b[1],E=(null===l||void 0===l?void 0:l.cid)===n.cid,_=function(e){var n=(0,u.mx)("useIsChannelMuted").client,t=(0,r.useState)(e.muteStatus()),a=t[0],i=t[1];return(0,r.useEffect)((function(){var t=function(){return i(e.muteStatus())};return n.on("notification.channel_mutes_updated",t),function(){return n.off("notification.channel_mutes_updated",t)}}),[a]),a}(n).muted;(0,r.useEffect)((function(){var e=function(e){if(!e.cid)return w(0);n.cid===e.cid&&w(0)};return s.on("notification.mark_read",e),function(){return s.off("notification.mark_read",e)}}),[]);var C=(0,r.useCallback)((function(){w(E||_?0:n.countUnread())}),[n,E,_]);if((0,r.useEffect)((function(){C();var e=function(e){e.message&&g(e.message),C()};return n.on("message.new",e),n.on("message.updated",e),n.on("message.deleted",e),function(){n.off("message.new",e),n.off("message.updated",e),n.off("message.deleted",e)}}),[C,i]),!a)return null;var x=function(e,n){var t,r,a=null===(t=e.data)||void 0===t?void 0:t.image,i=Object.values(e.state.members);if(!a&&2===i.length){var o=i.find((function(e){var t;return(null===(t=e.user)||void 0===t?void 0:t.id)!==(null===n||void 0===n?void 0:n.id)}));(null===(r=null===o||void 0===o?void 0:o.user)||void 0===r?void 0:r.image)&&(a=o.user.image)}return a}(n,s.user),S=function(e,n){var t,r,a=null===(t=e.data)||void 0===t?void 0:t.name,i=Object.values(e.state.members);if(!a&&2===i.length){var o=i.find((function(e){var t;return(null===(t=e.user)||void 0===t?void 0:t.id)!==(null===n||void 0===n?void 0:n.id)}));(null===(r=null===o||void 0===o?void 0:o.user)||void 0===r?void 0:r.name)&&(a=o.user.name)}return a}(n,s.user),k=q(n,h,v);return r.createElement(a,G({},e,{active:E,displayImage:x,displayTitle:S,lastMessage:p,latestMessage:k,setActiveChannel:f,unread:y}))},$=t(93096),J=t.n($),B=function(e){var n=e.channelSearchParams,t=e.inputRef,a=e.onSearch,i=e.placeholder,c=e.query,l=e.searchFunction,u=(0,o.Ht)("SearchInput").t;return r.createElement("input",{className:"str-chat__channel-search-input",onChange:function(e){return l?l(n,e):a(e)},placeholder:null!==i&&void 0!==i?i:u("Search"),ref:t,type:"text",value:c})},Q=function(e){return null!=e.cid},V=t(2255),W=function(e){var n=e.focusedUser,t=e.results,a=e.SearchResultItem,i=void 0===a?K:a,o=e.selectResult;return r.createElement(r.Fragment,null,t.map((function(e,t){return r.createElement(i,{focusedUser:n,index:t,key:t,result:e,selectResult:o})})))},K=function(e){var n,t,a=e.focusedUser,i=e.index,o=e.result,c=e.selectResult,l=a===i;if(Q(o)){var u=o;return r.createElement("button",{"aria-label":"Select Channel: "+((null===(n=u.data)||void 0===n?void 0:n.name)||""),className:"str-chat__channel-search-result "+(l?"focused":""),onClick:function(){return c(u)}},r.createElement("div",{className:"result-hashtag"},"#"),r.createElement("p",{className:"channel-search__result-text"},null===(t=u.data)||void 0===t?void 0:t.name))}return r.createElement("button",{"aria-label":"Select User Channel: "+(o.name||""),className:"str-chat__channel-search-result "+(l?"focused":""),onClick:function(){return c(o)}},r.createElement(T.q,{image:o.image,user:o}),o.name||o.id)},X=function(e){var n=e.DropdownContainer,t=void 0===n?W:n,a=e.popupResults,i=e.results,c=e.searching,l=e.SearchEmpty,u=e.SearchResultsHeader,s=e.SearchLoading,f=e.SearchResultItem,d=void 0===f?K:f,h=e.selectResult,v=(0,o.Ht)("SearchResults").t,m=(0,r.useState)(),p=m[0],g=m[1],b=(0,V.G)().device,y=a&&"full"===b?"popup":"inline",w=function(e){var n=e.children;return r.createElement("div",{className:"str-chat__channel-search-container "+y},n)},E=(0,r.useCallback)((function(e){if("ArrowUp"===e.key&&g((function(e){return void 0===e?0:0===e?i.length-1:e-1})),"ArrowDown"===e.key&&g((function(e){return void 0===e||e===i.length-1?0:e+1})),"Enter"===e.key&&(e.preventDefault(),void 0!==p))return h(i[p]),g(void 0)}),[p]);return(0,r.useEffect)((function(){return document.addEventListener("keydown",E,!1),function(){return document.removeEventListener("keydown",E)}}),[E]),c?r.createElement(w,null,s?r.createElement(s,null):r.createElement("div",{className:"str-chat__channel-search-container-searching"},v("Searching..."))):i.length?r.createElement(w,null,u&&r.createElement(u,null),r.createElement(t,{focusedUser:p,results:i,SearchResultItem:d,selectResult:h})):r.createElement(w,null,l?r.createElement(l,null):r.createElement("div",{"aria-live":"polite",className:"str-chat__channel-search-container-empty"},v("No results found")))},Y=function(){return(Y=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},Z=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(n){i(n)}}function c(e){try{l(r.throw(e))}catch(n){i(n)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}l((r=r.apply(e,n||[])).next())}))},ee=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(c){i=[6,c],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ne=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},te=r.memo((function(e){var n=e.channelType,t=void 0===n?"messaging":n,a=e.DropdownContainer,i=e.onSelectResult,o=e.placeholder,c=e.popupResults,l=void 0!==c&&c,s=e.SearchEmpty,f=e.searchForChannels,d=void 0!==f&&f,h=e.searchFunction,v=e.SearchInput,m=void 0===v?B:v,p=e.SearchLoading,g=e.searchQueryParams,b=e.SearchResultItem,y=e.SearchResultsHeader,w=(0,u.mx)("ChannelSearch"),E=w.client,_=w.setActiveChannel,C=(0,r.useState)(""),x=C[0],S=C[1],k=(0,r.useState)([]),N=k[0],L=k[1],P=(0,r.useState)(!1),R=P[0],I=P[1],M=(0,r.useState)(!1),O=M[0],F=M[1],H=(0,r.useRef)(null),A=function(){S(""),L([]),I(!1),F(!1)};(0,r.useEffect)((function(){var e=function(e){var n;R&&e.target instanceof HTMLElement&&((null===(n=H.current)||void 0===n?void 0:n.contains(e.target))||A())};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[R]);var T=J()((function(e){return Z(void 0,void 0,void 0,(function(){var n,t,r,a,i,o,c,l,u,s,f,h,v;return ee(this,(function(m){switch(m.label){case 0:if(!e||O)return[2];F(!0),m.label=1;case 1:return m.trys.push([1,6,,7]),[4,E.queryUsers(Y({$or:[{id:{$autocomplete:e}},{name:{$autocomplete:e}}],id:{$ne:E.userID}},null===(l=null===g||void 0===g?void 0:g.userFilters)||void 0===l?void 0:l.filters),Y({id:1},null===(u=null===g||void 0===g?void 0:g.userFilters)||void 0===u?void 0:u.sort),Y({limit:8},null===(s=null===g||void 0===g?void 0:g.userFilters)||void 0===s?void 0:s.options))];case 2:return n=m.sent(),d?(t=E.queryChannels(Y({name:{$autocomplete:e}},null===(f=null===g||void 0===g?void 0:g.channelFilters)||void 0===f?void 0:f.filters),(null===(h=null===g||void 0===g?void 0:g.channelFilters)||void 0===h?void 0:h.sort)||{},Y({limit:5},null===(v=null===g||void 0===g?void 0:g.channelFilters)||void 0===v?void 0:v.options)),[4,Promise.all([t,n])]):[3,4];case 3:return r=m.sent(),a=r[0],i=r[1].users,L(ne(ne([],a),i)),I(!0),F(!1),[2];case 4:return[4,Promise.resolve(n)];case 5:return o=m.sent().users,L(o),I(!0),[3,7];case 6:return c=m.sent(),A(),console.error(c),[3,7];case 7:return F(!1),[2]}}))}))}),200),U={setQuery:S,setResults:L,setResultsOpen:I,setSearching:F};return r.createElement("div",{className:"str-chat__channel-search","data-testid":"channel-search"},r.createElement(m,{channelSearchParams:U,inputRef:H,onSearch:function(e){e.preventDefault(),S(e.target.value),T(e.target.value)},placeholder:o,query:x,searchFunction:h}),x&&r.createElement(X,{DropdownContainer:a,popupResults:l,results:N,SearchEmpty:s,searching:O,SearchLoading:p,SearchResultItem:b,SearchResultsHeader:y,selectResult:i||function(e){return Z(void 0,void 0,void 0,(function(){var n;return ee(this,(function(r){switch(r.label){case 0:return E.userID?Q(e)?(_(e),[3,3]):[3,1]:[2];case 1:return[4,(n=E.channel(t,{members:[E.userID,e.id]})).watch()];case 2:r.sent(),_(n),r.label=3;case 3:return A(),[2]}}))}))}}))})),re=t(7437),ae=t(17157),ie=r.memo((function(e){var n=e.children,t=void 0===n?"Load more":n,a=e.onClick,i=e.refreshing;return r.createElement("div",{className:"str-chat__load-more-button"},r.createElement("button",{"aria-label":"Load More Channels",className:"str-chat__load-more-button__button","data-testid":"load-more-button",disabled:i,onClick:a},i?r.createElement(ae.TF,null):t))})),oe=r.memo((function(e){var n=e.children,t=e.hasNextPage,a=e.LoadMoreButton,i=void 0===a?ie:a,o=e.loadNextPage,c=e.refreshing,l=e.reverse;return r.createElement(r.Fragment,null,!l&&n,t&&r.createElement(i,{onClick:o,refreshing:c}),l&&n)})),ce=function(){return(ce=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},le=function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(n){i(n)}}function c(e){try{l(r.throw(e))}catch(n){i(n)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}l((r=r.apply(e,n||[])).next())}))},ue=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(c){i=[6,c],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},se={},fe={},de={},he=r.memo((function(e){var n=e.additionalChannelSearchProps,t=e.Avatar,i=void 0===t?T.q:t,o=e.allowNewMessagesFromUnfilteredChannels,m=e.channelRenderFilterFn,g=e.ChannelSearch,b=void 0===g?te:g,y=e.customActiveChannel,U=e.EmptyStateIndicator,j=void 0===U?re.D:U,D=e.filters,q=e.LoadingErrorIndicator,G=void 0===q?c:q,$=e.LoadingIndicator,J=void 0===$?a._:$,B=e.List,Q=void 0===B?l:B,V=e.lockChannelOrder,W=e.onAddedToChannel,K=e.onChannelDeleted,X=e.onChannelHidden,Y=e.onChannelTruncated,Z=e.onChannelUpdated,ee=e.onChannelVisible,ne=e.onMessageNew,ae=e.onRemovedFromChannel,ie=e.options,he=e.Paginator,ve=void 0===he?oe:he,me=e.Preview,pe=e.sendChannelsToList,ge=void 0!==pe&&pe,be=e.setActiveChannelOnMount,ye=void 0===be||be,we=e.showChannelSearch,Ee=void 0!==we&&we,_e=e.sort,Ce=void 0===_e?de:_e,xe=e.watchers,Se=void 0===xe?{}:xe,ke=(0,u.mx)("ChannelList"),Ne=ke.channel,Le=ke.client,Pe=ke.closeMobileNav,Re=ke.customClasses,Ie=ke.navOpen,Me=void 0!==Ie&&Ie,Oe=ke.setActiveChannel,Fe=ke.theme,He=ke.useImageFlagEmojisOnWindows,Ae=(0,r.useRef)(null),Te=(0,r.useState)(0),Ue=Te[0],je=Te[1],De=function(){return je((function(e){return e+1}))},qe=function(e,n,t,a,i){var o=(0,r.useState)([]),c=o[0],l=o[1],u=(0,r.useState)(!1),s=u[0],f=u[1],d=(0,r.useState)(!0),h=d[0],v=d[1],m=(0,r.useState)(!0),p=m[0],g=m[1],b=(0,r.useState)(!0),y=b[0],w=b[1],E=(0,r.useMemo)((function(){return JSON.stringify(n)}),[n]),_=(0,r.useMemo)((function(){return JSON.stringify(t)}),[t]),C=function(r){return O(void 0,void 0,void 0,(function(){var o,u,s,d,h,m;return F(this,(function(p){switch(p.label){case 0:f(!1),"reload"===r&&(l([]),g(!0)),w(!0),o="reload"===r?0:c.length,u=M({limit:null!==(m=null===a||void 0===a?void 0:a.limit)&&void 0!==m?m:30,offset:o},a),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,e.queryChannels(n,t||{},u)];case 2:return s=p.sent(),d="reload"===r?s:H(H([],c),s),l(d),v(s.length>=u.limit),!o&&i&&i(d,l),[3,4];case 3:return h=p.sent(),console.warn(h),f(!0),[3,4];case 4:return g(!1),w(!1),[2]}}))}))};return(0,r.useEffect)((function(){C("reload")}),[E,_]),{channels:c,hasNextPage:h,loadNextPage:function(){C()},setChannels:l,status:{error:s,loadingChannels:p,refreshing:y}}}(Le,D||se,Ce||de,ie||fe,(function(e,n){return le(void 0,void 0,void 0,(function(){var t,r;return ue(this,(function(a){switch(a.label){case 0:return!e.length||e.length>((null===ie||void 0===ie?void 0:ie.limit)||30)?[2]:y?(t=e.find((function(e){return e.id===y})))?[3,2]:[4,Le.queryChannels({id:y})]:[3,3];case 1:t=a.sent()[0],a.label=2;case 2:return t&&(Oe(t,Se),r=E({activeChannel:t,channels:e,cid:t.cid}),n(r)),[2];case 3:return ye&&Oe(e[0],Se),[2]}}))}))})),Ge=qe.channels,ze=qe.hasNextPage,$e=qe.loadNextPage,Je=qe.setChannels,Be=qe.status,Qe=m?m(Ge):Ge;!function(e,n,t){(0,r.useEffect)((function(){var r=function(r){t&&e.current&&!e.current.contains(r.target)&&n&&t()};return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}}),[e,t,n])}(Ae,Me,Pe),function(e,n,t){void 0===n&&(n=!1),void 0===t&&(t=!0);var a=(0,u.mx)("useMessageNewListener").client;(0,r.useEffect)((function(){var r=function(r){e((function(e){if(!(e.filter((function(e){return e.cid===r.cid})).length>0)&&t&&r.channel_type){var i=a.channel(r.channel_type,r.channel_id);return p()(S([i],e),"cid")}return n?e:E({channels:e,cid:r.cid||""})}))};return a.on("message.new",r),function(){a.off("message.new",r)}}),[n])}(Je,V,o),function(e,n,t){void 0===t&&(t=!0);var a=(0,u.mx)("useNotificationMessageNewListener").client;(0,r.useEffect)((function(){var r=function(r){return P(void 0,void 0,void 0,(function(){var i,o;return R(this,(function(c){switch(c.label){case 0:return n&&"function"===typeof n?(n(e,r),[3,3]):[3,1];case 1:return t&&(null===(o=r.channel)||void 0===o?void 0:o.type)?[4,w(a,r.channel.type,r.channel.id)]:[3,3];case 2:i=c.sent(),e((function(e){return p()(I([i],e),"cid")})),c.label=3;case 3:return[2]}}))}))};return a.on("notification.message_new",r),function(){a.off("notification.message_new",r)}}),[n])}(Je,ne,o),function(e,n,t){void 0===t&&(t=!0);var a=(0,u.mx)("useNotificationAddedToChannelListener").client;(0,r.useEffect)((function(){var r=function(r){return k(void 0,void 0,void 0,(function(){var i,o;return N(this,(function(c){switch(c.label){case 0:return n&&"function"===typeof n?(n(e,r),[3,3]):[3,1];case 1:return t&&(null===(o=r.channel)||void 0===o?void 0:o.type)?[4,w(a,r.channel.type,r.channel.id)]:[3,3];case 2:i=c.sent(),e((function(e){return p()(L([i],e),"cid")})),c.label=3;case 3:return[2]}}))}))};return a.on("notification.added_to_channel",r),function(){a.off("notification.added_to_channel",r)}}),[n])}(Je,W,o),function(e,n){var t=(0,u.mx)("useNotificationRemovedFromChannelListener").client;(0,r.useEffect)((function(){var r=function(t){n&&"function"===typeof n?n(e,t):e((function(e){return e.filter((function(e){var n;return e.cid!==(null===(n=t.channel)||void 0===n?void 0:n.cid)}))}))};return t.on("notification.removed_from_channel",r),function(){t.off("notification.removed_from_channel",r)}}),[n])}(Je,ae),function(e,n){var t=(0,u.mx)("useChannelDeletedListener").client;(0,r.useEffect)((function(){var r=function(t){n&&"function"===typeof n?n(e,t):e((function(e){var n=e.findIndex((function(e){return e.cid===t.cid}));return n<0||e.splice(n,1),s([],e)}))};return t.on("channel.deleted",r),function(){t.off("channel.deleted",r)}}),[n])}(Je,K),function(e,n){var t=(0,u.mx)("useChannelHiddenListener").client;(0,r.useEffect)((function(){var r=function(t){n&&"function"===typeof n?n(e,t):e((function(e){var n=e.findIndex((function(e){return e.cid===t.cid}));return n<0||e.splice(n,1),f([],e)}))};return t.on("channel.hidden",r),function(){t.off("channel.hidden",r)}}),[n])}(Je,X),function(e,n){var t=(0,u.mx)("useChannelVisibleListener").client;(0,r.useEffect)((function(){var r=function(r){return _(void 0,void 0,void 0,(function(){var a;return C(this,(function(i){switch(i.label){case 0:return n&&"function"===typeof n?(n(e,r),[3,3]):[3,1];case 1:return r.type&&r.channel_type&&r.channel_id?[4,w(t,r.channel_type,r.channel_id)]:[3,3];case 2:a=i.sent(),e((function(e){return p()(x([a],e),"cid")})),i.label=3;case 3:return[2]}}))}))};return t.on("channel.visible",r),function(){t.off("channel.visible",r)}}),[n])}(Je,ee),function(e,n,t){var a=(0,u.mx)("useChannelTruncatedListener").client;(0,r.useEffect)((function(){var r=function(r){e((function(e){return d([],e)})),n&&"function"===typeof n&&n(e,r),t&&t()};return a.on("channel.truncated",r),function(){a.off("channel.truncated",r)}}),[n])}(Je,Y,De),function(e,n,t){var a=(0,u.mx)("useChannelUpdatedListener").client;(0,r.useEffect)((function(){var r=function(r){e((function(e){var n,t,a,i,o,c,l=e.findIndex((function(e){var n;return e.cid===(null===(n=r.channel)||void 0===n?void 0:n.cid)}));if(l>-1&&r.channel){var u=e;return u[l].data=h(h({},r.channel),{hidden:null!==(t=null===(n=r.channel)||void 0===n?void 0:n.hidden)&&void 0!==t?t:null===(a=u[l].data)||void 0===a?void 0:a.hidden,own_capabilities:null!==(o=null===(i=r.channel)||void 0===i?void 0:i.own_capabilities)&&void 0!==o?o:null===(c=u[l].data)||void 0===c?void 0:c.own_capabilities}),v([],u)}return e})),t&&t(),n&&"function"===typeof n&&n(e,r)};return a.on("channel.updated",r),function(){a.off("channel.updated",r)}}),[n])}(Je,Z,De),function(e){var n=(0,u.mx)("useConnectionRecoveredListener").client;(0,r.useEffect)((function(){var t=function(){e&&e()};return n.on("connection.recovered",t),function(){n.off("connection.recovered",t)}}),[])}(De),function(e){var n=(0,u.mx)("useUserPresenceChangedListener").client;(0,r.useEffect)((function(){var t=function(n){e((function(e){var t=e.map((function(e){var t;if(!(null===(t=n.user)||void 0===t?void 0:t.id)||!e.state.members[n.user.id])return e;var r=e;return r.state.members[n.user.id].user=n.user,r}));return A([],t)}))};return n.on("user.presence.changed",t),function(){n.off("user.presence.changed",t)}}),[])}(Je),(0,r.useEffect)((function(){var e=function(e){e.cid===(null===Ne||void 0===Ne?void 0:Ne.cid)&&Oe()};return Le.on("channel.deleted",e),Le.on("channel.hidden",e),function(){Le.off("channel.deleted",e),Le.off("channel.hidden",e)}}),[null===Ne||void 0===Ne?void 0:Ne.cid]);var Ve=(null===Re||void 0===Re?void 0:Re.chat)||"str-chat",We=(null===Re||void 0===Re?void 0:Re.channelList)||"str-chat-channel-list",Ke=Me?"str-chat-channel-list--open":"",Xe=He&&navigator.userAgent.match(/Win/)?"str-chat--windows-flags":"";return r.createElement(r.Fragment,null,r.createElement("div",{className:Ve+" "+We+" "+Fe+" "+Ke+" "+Xe,ref:Ae},Ee&&r.createElement(b,ce({},n)),r.createElement(Q,{error:Be.error,loadedChannels:ge?Qe:void 0,loading:Be.loadingChannels,LoadingErrorIndicator:G,LoadingIndicator:J,setChannels:Je},(null===Qe||void 0===Qe?void 0:Qe.length)?r.createElement(ve,{hasNextPage:ze,loadNextPage:$e,refreshing:Be.refreshing},Qe.map((function(e){var n={activeChannel:Ne,Avatar:i,channel:e,channelUpdateCount:Ue,key:e.id,Preview:me,setActiveChannel:Oe,watchers:Se};return r.createElement(z,ce({},n))}))):r.createElement(j,{listType:"channel"}))))}))},75161:function(e,n,t){"use strict";t.d(n,{N:function(){return i}});var r=t(67294),a=t(13943),i=r.memo((function(e){var n,t,i=e.active,o=e.Avatar,c=void 0===o?a.q:o,l=e.channel,u=e.displayImage,s=e.displayTitle,f=e.latestMessage,d=e.setActiveChannel,h=e.unread,v=e.watchers,m=(0,r.useRef)(null),p=i?"str-chat__channel-preview-messenger--active":"",g=h&&h>=1?"str-chat__channel-preview-messenger--unread":"",b=s||(null===(t=null===(n=l.state.messages[l.state.messages.length-1])||void 0===n?void 0:n.user)||void 0===t?void 0:t.id);return r.createElement("button",{"aria-label":"Select Channel: "+(s||""),"aria-selected":i,className:"str-chat__channel-preview-messenger "+g+" "+p,"data-testid":"channel-preview-button",onClick:function(){d&&d(l,v),(null===m||void 0===m?void 0:m.current)&&m.current.blur()},ref:m,role:"option"},r.createElement("div",{className:"str-chat__channel-preview-messenger--left"},r.createElement(c,{image:u,name:b,size:40})),r.createElement("div",{className:"str-chat__channel-preview-messenger--right"},r.createElement("div",{className:"str-chat__channel-preview-messenger--name"},r.createElement("span",null,s)),r.createElement("div",{className:"str-chat__channel-preview-messenger--last-message"},f)))}))}}]);